(()=>{"use strict";var a={n:b=>{var c=b&&b.__esModule?()=>b.default:()=>b;return a.d(c,{a:c}),c},d:(d,c)=>{for(var b in c)a.o(c,b)&&!a.o(d,b)&&Object.defineProperty(d,b,{enumerable:!0,get:c[b]})},o:(a,b)=>Object.prototype.hasOwnProperty.call(a,b)},b;const f=window.jQuery;b=a.n(f);function c(a){return a.prop("type")?a.prop("type"):a.prop("className")&&a.prop("className").includes("checkbox")?"checkbox":a.prop("className")&&a.prop("className").includes("radio")?"radio":void 0}function d(a){const d=c(a);let b=a.val();return"checkbox"===d&&(b=a.attr("name")&&a.attr("name").includes("[]")||a.prop("className")&&a.prop("className").includes("checkbox")?a.closest(".wooccm-field").find("input:checked").map((b,a)=>a.value).toArray():a.is(":checked")),"radio"===d&&(b=a.closest(".wooccm-field").find("input:checked").map((b,a)=>a.value).toArray()),b}function e(g,a,f){g.each(function(o,j){const g=b()(j),k=g.data("conditional-parent-value"),n=a==k||b().isArray(a)&&a.includes(k),h=f&&n;g.prop("disabled",!h),g.closest(".wooccm-field").attr("style",`display: ${h?"block":"none"} !important`),h&&g.trigger("country_to_state_changed"),f&&g.trigger("change");let i="";const l=c(g);i="radio"===l?g[0].firstChild.name:"checkbox"===l?j.querySelector('input[type="checkbox"]').name.replace("[]",""):g[0].name&&g[0].name.includes("[]")?g[0].name.replace("[]",""):g[0].name;const m=b()(`*[data-conditional-parent=${i}]`);m.length&&e(m,d(g),h)})}b()(document).ready(function(a){a(document).on("click",".wooccm_delete_attachment",function(){const b=a(this).closest("tr"),c=a(this).data("attachment_id");b.hide(),a("#wooccm_order_attachment_update").prop("disabled",!1),a("#delete_attachments_ids").val(a("#delete_attachments_ids").val().replace(c,""))}),a(document).on("click","#wooccm_order_attachment_update",function(){a.ajax({url:window.wooccm_upload.ajax_url,type:"POST",cache:!1,data:{action:"wooccm_order_attachment_update",nonce:window.wooccm_upload.nonce,delete_attachments_ids:a("#delete_attachments_ids").val(),all_attachments_ids:a("#all_attachments_ids").val()},beforeSend(){a(".wooccm_upload_results").html(window.wooccm_upload.message.saving)},success(b){b.success?(a(".wooccm_upload_results").html(window.wooccm_upload.message.deleted),a("#wooccm_order_attachment_update").prop("disabled",!0)):a(".wooccm_upload_results").html(b.data)}})}),a(document).on("change","#wooccm_order_attachment_upload",function(){let b=!1,e=a(this).data("order_id");window.FormData&&(b=new FormData);let d,c=0,f=this.files.length;for(;c<f;c++)d=this.files[c],b&&b.append("wooccm_order_attachment_upload[]",d);b&&(b.append("action","wooccm_order_attachment_upload"),b.append("nonce",window.wooccm_upload.nonce),b.append("order_id",e),a.ajax({url:window.wooccm_upload.ajax_url,type:"POST",cache:!1,data:b,processData:!1,contentType:!1,beforeSend(){var b;a(".wooccm_upload_results").html(window.wooccm_upload.message.uploading),function(a){return a.is(".processing")||a.parents(".processing").length}(b=a(".wooccm_order_attachments_wrapper"))||b.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},success(b){b.success?(a(".wooccm_order_attachments_wrapper").fadeOut(),a(".wooccm_order_attachments_wrapper").replaceWith(a(b.data).fadeIn()),a(".wooccm_upload_results").html(window.wooccm_upload.message.success)):a(".wooccm_upload_results").html(b.data),a(".wooccm_order_attachments_wrapper").removeClass("processing").unblock()}}))})}),window.window.selectWoo,function(a){const c=function(a){return a.is(".processing")||a.parents(".processing").length};a(document).on("country_to_state_changing",function(e,f,b){let c=b;const d=a.parseJSON(wc_address_i18n_params.locale_fields);a.each(d,function(e,b){const a=c.find(b),d=a.find("[data-required]").data("required")||a.find(".wooccm-required-field").length;!function(a,b){b?(a.find("label .optional").remove(),a.addClass("validate-required"),0===a.find("label .required").length&&a.find("label").append('<abbr class="required" title="'+wc_address_i18n_params.i18n_required_text+'">*</abbr>'),a.show(),a.find("input[type=hidden]").prop("type","text")):(a.find("label .required").remove(),a.removeClass("validate-required woocommerce-invalid woocommerce-invalid-required-field"),0===a.find("label .optional").length&&a.find("label").append('<span class="optional">('+wc_address_i18n_params.i18n_optional_text+")</span>"))}(a,d)})});const b={};if(a(".wooccm-type-file").each(function(k,h){const c=a(h),f=c.find("[type=file]"),i=c.find(".wooccm-file-button"),d=c.find(".wooccm-file-list"),e=c.find(".wooccm-file-field").data("file-limit"),j=c.find(".wooccm-file-field").data("file-types"),g=1024*parseFloat(c.find(".wooccm-file-field").data("file-max-size"));b[c.attr("id")]=[],i.on("click",function(a){a.preventDefault(),f.trigger("click")}),d.on("click",".wooccm-file-list-delete",function(f){const d=a(this).closest(".wooccm-file-file"),e=a(this).closest("[data-file_id]").data("file_id");b[c.attr("id")]=a.grep(b[c.attr("id")],function(b,a){return a!=e}),d.remove(),a("#order_review").trigger("wooccm_upload")}),f.on("change",function(h){const f=a(this)[0].files;f.length&&window.FileReader&&a.each(f,function(k,h){if(d.find("span[data-file_id]").length+k>=e)return alert("Exeeds max files limit of "+e),!1;const i=new FileReader;var f;i.onload=(f=h,function(e){setTimeout(function(){if(f.size>g)return alert(f.name+" exeeds max file size of "+g/1024+"kb"),!0;const i=function(c,a){if(!a?.length)return!0;const b=function(a){return a.name.match(/\.([^\.]+)$/)[1]}(c);return a.filter(a=>!!a.includes(b)||!(!a.includes("|")||!a.split("|").includes(b))||void 0).length>0}(f,j);if(!i)return alert(f.name+" is not valid file type"),!0;!function(f,g,c,e,d){let b,h=a(f);d.match("image.*")?b="image":d.match("application/ms.*")?(c=wooccm_upload.icons.spreadsheet,b="spreadsheet"):d.match("application/x.*")?(c=wooccm_upload.icons.archive,b="application"):d.match("audio.*")?(c=wooccm_upload.icons.audio,b="audio"):d.match("text.*")?(c=wooccm_upload.icons.text,b="text"):d.match("video.*")?(c=wooccm_upload.icons.video,b="video"):(c=wooccm_upload.icons.interactive,b="interactive");const i='<span data-file_id="'+g+'" title="'+e+'" class="wooccm-file-file">\n                <span class="wooccm-file-list-container">\n                <a title="'+e+'" class="wooccm-file-list-delete">Ã—</a>\n                <span class="wooccm-file-list-image-container">\n                <img class="'+b+'" alt="'+e+'" src="'+c+'"/>\n                </span>\n                </span>\n                </span>';h.append(i).fadeIn()}(d,b[c.attr("id")].push(h)-1,e.target.result,f.name,f.type),a("#order_review").trigger("wooccm_upload")},200)}),i.readAsDataURL(h)})})}),a("#order_review").on("ajaxSuccess wooccm_upload",function(c,d,e){a(c.target);const b=a("#place_order");a(".wooccm-type-file").length?b.addClass("wooccm-upload-process"):b.removeClass("wooccm-upload-process")}),a(document).on("click","#place_order.wooccm-upload-process",function(g){g.preventDefault();const d=a("form.checkout"),e=a(this);var f;a(".wooccm-type-file").length&&window.FormData&&Object.keys(b).length&&(c(d)||(e.html(wooccm_upload.message.uploading),c(f=d)||f.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})),a.each(b,function(h,e){const c=a("#"+h),d=c.find(".wooccm-file-field").data("file-limit"),f=(c.find(".wooccm-file-field").data("file-types"),1024*parseFloat(c.find(".wooccm-file-field").data("file-max-size"))),g=c.find(".wooccm-file-field"),b=new FormData;a.each(e,function(c,a){return c>d?(console.log("Exeeds max files limit of "+d),!1):a.size>f?(console.log("Exeeds max file size of "+d),!0):(console.log("We're ready to upload "+a.name),void b.append("wooccm_checkout_attachment_upload[]",a))}),b.append("action","wooccm_checkout_attachment_upload"),b.append("nonce",wooccm_upload.nonce),a.ajax({async:!1,url:wooccm_upload.ajax_url,type:"POST",cache:!1,data:b,processData:!1,contentType:!1,beforeSend(a){},success(b){b.success?g.val(b.data):a("body").trigger("update_checkout")},complete(a){}})}),function(a){a.removeClass("processing").unblock()}(d),e.removeClass("wooccm-upload-process").trigger("click"))}),a(document).on("change",".wooccm-add-price",function(b){a("body").trigger("update_checkout")}),a(".wooccm-field").on("change keyup wooccm_change","input,textarea,select",function(c){const b=a(c.target),f=b.attr("name").replace("[]",""),g=d(b),h="hidden"!==b.closest(".wooccm-field").css("visibility");e(a(`*[data-conditional-parent=${f}]`),g,h)}),a(".wooccm-conditional-child").each(function(f,e){const d=a(e),b=a("#"+d.find("[data-conditional-parent]").data("conditional-parent")+"_field"),c=d.find("[data-conditional-parent]");c.length&&("billing_state"!==c.attr("id")&&"billing_state_field"!==c.attr("id")&&"shipping_state"!==c.attr("id")&&"shipping_state_field"!==c.attr("id")||(d.attr("data-conditional-parent",c.data("conditional-parent")),d.attr("data-conditional-parent-value",c.data("conditional-parent-value")))),b.find("select:first").trigger("wooccm_change"),b.find("textarea:first").trigger("wooccm_change"),b.find("input[type=button]:first").trigger("wooccm_change"),b.find("input[type=radio]:checked:first").trigger("wooccm_change"),b.find("input[type=checkbox]:checked:first").trigger("wooccm_change"),b.find("input[type=color]:first").trigger("wooccm_change"),b.find("input[type=date]:first").trigger("wooccm_change"),b.find("input[type=datetime-local]:first").trigger("wooccm_change"),b.find("input[type=email]:first").trigger("wooccm_change"),b.find("input[type=file]:first").trigger("wooccm_change"),b.find("input[type=hidden]:first").trigger("wooccm_change"),b.find("input[type=image]:first").trigger("wooccm_change"),b.find("input[type=month]:first").trigger("wooccm_change"),b.find("input[type=number]:first").trigger("wooccm_change"),b.find("input[type=password]:first").trigger("wooccm_change"),b.find("input[type=range]:first").trigger("wooccm_change"),b.find("input[type=reset]:first").trigger("wooccm_change"),b.find("input[type=search]:first").trigger("wooccm_change"),b.find("input[type=submit]:first").trigger("wooccm_change"),b.find("input[type=tel]:first").trigger("wooccm_change"),b.find("input[type=text]:first").trigger("wooccm_change"),b.find("input[type=time]:first").trigger("wooccm_change"),b.find("input[type=url]:first").trigger("wooccm_change"),b.find("input[type=week]:first").trigger("wooccm_change")}),a(".wooccm-enhanced-datepicker").each(function(d,e){const b=a(this),c=b.data("disable")||!1;a.isFunction(a.fn.datepicker)&&b.datepicker({dateFormat:b.data("formatdate")||"mm/dd/yy",minDate:b.data("mindate"),maxDate:b.data("maxdate"),beforeShowDay(b){const d=null!=b.getDay()&&b.getDay().toString();return c?[-1===a.inArray(d,c)]:[!0]}})}),a(".wooccm-enhanced-timepicker").each(function(c,d){const b=a(this);a.isFunction(a.fn.timepicker)&&(console.log(b.data("format-ampm")),b.timepicker({showPeriodLabels:!!b.data("format-ampm"),showPeriod:!!b.data("format-ampm"),showLeadingZero:!0,hours:b.data("hours")||void 0,minutes:b.data("minutes")||void 0}))}),a(".wooccm-colorpicker-farbtastic").each(function(f,e){const c=a(e),b=c.find("input[type=text]"),d=c.find(".wooccmcolorpicker_container");b.hide(),a.isFunction(a.fn.farbtastic)&&(d.farbtastic("#"+b.attr("id")),d.on("click",function(a){b.fadeIn()}))}),a(".wooccm-colorpicker-iris").each(function(e,d){const c=a(d),b=c.find("input[type=text]");b.css("background",b.val()),b.on("click",function(a){c.toggleClass("active")}),b.iris({class:b.attr("id"),palettes:!0,color:"",hide:!1,change(c,a){b.css("background",a.color.toString()).fadeIn()}})}),a(document).on("click",function(b){0===a(b.target).closest(".iris-picker").length&&a(".wooccm-colorpicker-iris").removeClass("active")}),"undefined"==typeof wc_country_select_params)return!1;if(a().selectWoo){const b=function(){return{language:{errorLoading:()=>wc_country_select_params.i18n_searching,inputTooLong(a){const b=a.input.length-a.maximum;return 1===b?wc_country_select_params.i18n_input_too_long_1:wc_country_select_params.i18n_input_too_long_n.replace("%qty%",b)},inputTooShort(a){const b=a.minimum-a.input.length;return 1===b?wc_country_select_params.i18n_input_too_short_1:wc_country_select_params.i18n_input_too_short_n.replace("%qty%",b)},loadingMore:()=>wc_country_select_params.i18n_load_more,maximumSelected:a=>1===a.maximum?wc_country_select_params.i18n_selection_too_long_1:wc_country_select_params.i18n_selection_too_long_n.replace("%qty%",a.maximum),noResults:()=>wc_country_select_params.i18n_no_matches,searching:()=>wc_country_select_params.i18n_searching}}};a("select.wooccm-enhanced-select").each(function(){const c=a.extend({width:"100%",placeholder:a(this).data("placeholder")||"",allowClear:a(this).data("allowclear")||!1,selectOnClose:a(this).data("selectonclose")||!1,closeOnSelect:a(this).data("closeonselect")||!1,minimumResultsForSearch:a(this).data("search")||-1},b());a(this).on("select2:select",function(){a(this).focus()}).selectWoo(c)})}}(jQuery)})()